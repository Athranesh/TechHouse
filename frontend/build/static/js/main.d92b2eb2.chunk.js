(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{119:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(1),c=r(27),s=r.n(c),i=r(5),o=r(33),d=r(73),l=r(74),j=r(12),u="PRODUCT_LIST_REQUEST",p="PRODUCT_LIST_RESET ",b="PRODUCT_LIST_SUCCESS",h="PRODUCT_LIST_FAIL",O="TOP_PRODUCT_LIST_REQUEST",x="TOP_PRODUCT_LIST_SUCCESS",m="TOP_PRODUCT_LIST_FAIL",f="PRODUCT_REQUEST",g="PRODUCT_SUCCESS",v="PRODUCT_FAIL",y="PRODUCT_RESET",E="DELETE_PRODUCT_REQUEST",I="DELETE_PRODUCT_RESET ",S="DELETE_PRODUCT_SUCCESS",C="DELETE_PRODUCT_FAIL",L="CREATE_PRODUCT_REQUEST",R="CREATE_PRODUCT_RESET ",_="CREATE_PRODUCT_SUCCESS",k="CREATE_PRODUCT_FAIL",w="UPDATE_PRODUCT_REQUEST",P="UPDATE_PRODUCT_RESET ",T="UPDATE_PRODUCT_SUCCESS",A="UPDATE_PRODUCT_FAIL",D="CREATE_REVIEW_REQUEST",U="CREATE_REVIEW_RESET ",N="CREATE_REVIEW_SUCCESS",F="CREATE_REVIEW_FAIL",G=r(29),q="CART_ADD_ITEM",M="CART_REMOVE_ITEM",B="CART_SAVE_SHIPPING_ADDRESS",$="CART_SAVE_PAYMENT_METHOD",z="CART_RESET",Q="USER_LOGIN_REQUEST",J="USER_LOGIN_SUCCESS",V="USER_LOGIN_FAIL",Y="USER_REGISTER_REQUEST",W="USER_REGISTER_SUCCESS",H="USER_REGISTER_FAIL",K="USER_LOGOUT",X="CLEAR_LOGIN_ERROR",Z="CLEAR_REGISTER_ERROR",ee="USER_DETAILS_REQUEST",te="USER_DETAILS_SUCCESS",re="USER_DETAILS_UPDATE_SUCCESS",ne="USER_DETAILS_UPDATE_RESET",ae="USER_DETAILS_FAIL",ce="USER_DETAILS_RESET",se="CLEAR_DETAILS_ERROR",ie="CLEAR_DETAILS",oe="USER_DETAILS_UPDATE_FAIL",de="USER_LIST_REQUEST",le="USER_LIST_SUCCESS",je="USER_LIST_FAIL",ue="USER_LIST_RESET",pe="DELETE_USER_REQUEST",be="DELETE_USER_SUCCESS",he="DELETE_USER_FAIL",Oe="DELETE_USER_RESET",xe="ORDER_CREATE_REQUEST",me="ORDER_CREATE_SUCCESS",fe="ORDER_CREATE_FAIL",ge="GET_ORDER_REQUEST",ve="GET_ORDER_SUCCESS",ye="GET_ORDER_FAIL",Ee="CLEAR_ORDER_DETAILS",Ie="ORDER_PAY_REQUEST",Se="ORDER_PAY_SUCCESS",Ce="ORDER_PAY_FAIL",Le="ORDER_PAY_RESET",Re="ORDER_LIST_REQUEST",_e="ORDER_LIST_SUCCESS",ke="ORDER_LIST_FAIL",we="ORDER_LIST_RESET",Pe="ORDER_DELIVERED_REQUEST",Te="ORDER_DELIVERED_SUCCESS",Ae="ORDER_DELIVERED_FAIL",De="ORDER_DELIVERED_RESET",Ue=Object(o.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,products:[],error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{loading:!0,products:[]};case b:return{loading:!1,products:t.payload.products,pages:t.payload.pages,page:t.payload.page,topProducts:t.payload.topProducts};case h:return{loading:!1,error:t.payload};case p:return{loading:!1,products:[],error:null};default:return e}},topProductList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,products:[],error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case x:return{loading:!1,topProducts:t.payload};case m:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:t.payload});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,product:null,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case g:return{loading:!1,product:t.payload};case v:return{loading:!1,error:t.payload};case y:return{loading:!1,product:null,error:null};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:var r=t.payload,n=e.cartItems.find((function(e){return e.product===r.product}));return n?Object(j.a)(Object(j.a)({},e),{},{cartItems:Object(G.a)(e.cartItems.map((function(e){return e.product===n.product?r:e})))}):Object(j.a)(Object(j.a)({},e),{},{cartItems:[].concat(Object(G.a)(e.cartItems),[r])});case M:var a=e.cartItems.filter((function(e){return e.product!==t.payload}));return Object(j.a)(Object(j.a)({},e),{},{cartItems:a});case B:return Object(j.a)(Object(j.a)({},e),{},{shippingAddress:t.payload});case $:return Object(j.a)(Object(j.a)({},e),{},{paymentMethod:t.payload});case z:return{cartItems:[],shippingAddress:null};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,userInfo:null,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return{loading:!0,userInfo:null,error:null};case J:return{loading:!1,userInfo:t.payload,error:null};case V:return{loading:!1,userInfo:null,error:t.payload};case K:return{loading:!1,userInfo:null,error:null};case X:return Object(j.a)(Object(j.a)({},e),{},{error:null});default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,userInfo:null,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return{loading:!0,userInfo:null,error:null};case W:return{loading:!1,userInfo:t.payload,error:null};case H:return{loading:!1,userInfo:null,error:t.payload};case Z:return Object(j.a)(Object(j.a)({},e),{},{error:null});default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,userInfo:null,error:null,updated:!1,updateError:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{loading:!1,userInfo:null,error:null,updated:!1,updateError:null};case ee:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case ce:return{loading:!1,userInfo:null,error:null,updated:!1,updateError:null};case te:return{loading:!1,userInfo:t.payload,error:null,updated:!1};case re:return{loading:!1,userInfo:t.payload,error:null,updated:!0};case ne:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,updated:!1});case oe:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,updated:!0,error:t.payload});case ae:return{loading:!1,userInfo:null,error:t.payload};case se:return Object(j.a)(Object(j.a)({},e),{},{error:null});case ie:return{loading:!1,userInfo:null,error:null,updated:!1,updateError:null};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,order:null,success:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return{loading:!0};case me:return{loading:!1,success:!0,order:t.payload};case fe:return{loading:!1,success:!1,error:t.payload};default:return e}},getOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,order:null,error:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return{loading:!0};case ve:return{loading:!1,error:null,order:t.payload};case ye:return{loading:!1,order:null,error:t.payload};case Ee:return{loading:!1,order:null,error:!1};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return{loading:!0};case Se:return{loading:!1,success:!0};case Ce:return{loading:!1,error:t.payload};case Le:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return{loading:!0};case le:return{loading:!1,users:t.payload};case je:return{loading:!1,error:t.payload};case ue:return{users:[]};default:return e}},deleteUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,success:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return{loading:!0,success:!1,error:null};case be:return{loading:!1,success:!0,error:null};case he:return{loading:!1,success:!1,error:t.payload};case Oe:return{loading:!1,success:!1,error:null};default:return e}},deleteProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,success:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return{loading:!0,error:null,success:!1};case S:return{loading:!1,error:null,success:!0};case C:return{loading:!1,error:t.payload,success:!1};case I:return{loading:!1,error:null,success:!1};default:return e}},createProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,success:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return{loading:!0,error:null,success:!1};case _:return{loading:!1,error:null,success:!0,product:t.payload};case k:return{loading:!1,error:t.payload,success:!1};case R:return{};default:return e}},updateProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,success:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{loading:!0,error:null,success:!1};case T:return{loading:!1,error:null,success:!0};case A:return{loading:!1,error:t.payload,success:!1};case P:return{loading:!1,error:null,success:!1};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[],loading:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return{loading:!0,orders:[]};case _e:return{loading:!1,orders:t.payload};case ke:return{loading:!1,error:t.payload,orders:[]};case we:return{orders:[],loading:!1,error:null};default:return e}},orderDelivered:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{success:!1,loading:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return{loading:!0};case Te:return{loading:!1,success:!0,date:t.payload};case Ae:return{loading:!1,error:t.payload};case De:return{success:!1,loading:!1,error:null};default:return e}},createReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,success:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{loading:!0,error:null,success:!1};case N:return{loading:!1,error:null,success:!0};case F:return{loading:!1,error:t.payload,success:!1};case U:return{loading:!1,error:null,success:!1};default:return e}}}),Ne={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):null,paymentMethod:localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):null},userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},Fe=[d.a],Ge=Object(o.createStore)(Ue,Ne,Object(l.composeWithDevTools)(o.applyMiddleware.apply(void 0,Fe))),qe=(r(95),r(96),r(133)),Me=r(124),Be=r(125),$e=r(131),ze=r(17),Qe=r(14),Je=r(9),Ve=r.n(Je),Ye=r(11),We=r(13),He=r.n(We),Ke=function(){return{type:Z}},Xe=function(e){return function(){var t=Object(Ye.a)(Ve.a.mark((function t(r,n){var a,c,s,i;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:ee}),t.prev=1,a=n().userLogin.userInfo,c={headers:{"Content-type":"application/json",authorization:"Bearer ".concat(a.token)}},t.next=6,He.a.get("/api/users/admin/".concat(e),c);case 6:s=t.sent,i=s.data,r({type:te,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r({type:ae,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,r){return t.apply(this,arguments)}}()},Ze=function(){return{type:se}},et=function(){return{type:ne}},tt=function(){return function(){var e=Object(Ye.a)(Ve.a.mark((function e(t,r){var n,a,c,s;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:de}),e.prev=1,n=r().userLogin.userInfo.token,a={headers:{"Content-type":"application/json",authorization:"Bearer ".concat(n)}},e.next=6,He.a.get("/api/users/admin",a);case 6:c=e.sent,s=c.data,t({type:le,payload:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:je,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,r){return e.apply(this,arguments)}}()};var rt=function(){var e=Object(i.b)(),t=Object(ze.k)();return function(){t.push("/"),e((localStorage.removeItem("userInfo"),{type:K}))}},nt=r(6),at=r(130),ct=r(76),st=function(e){var t=e.history,r=Object(a.useState)(""),c=Object(nt.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)(null),d=Object(nt.a)(o,2),l=d[0],j=d[1];Object(a.useEffect)((function(){var e=function(){window.innerWidth>975?j(40):j(null)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}));return Object(n.jsxs)(at.a,{onSubmit:function(e){e.preventDefault(),s.trim()?t.push("/search/".concat(s)):t.push("/")},inline:!0,children:[Object(n.jsx)(at.a.Control,{type:"text",style:{width:"70%"},htmlSize:l&&l,name:"q",onChange:function(e){return i(e.target.value)},placeholder:"Search Products...",className:"mr-sm-1 mr-md-0 my-sm-4 my-md-0"}),Object(n.jsx)(ct.a,{type:"submit",variant:"outline-success",className:"p-2 mx-2 mr-md-2",children:"Search"})]})},it=function(){var e=Object(i.c)((function(e){return e.userLogin})).userInfo,t=rt();return Object(n.jsx)("header",{children:Object(n.jsx)(qe.a,{className:"navbar-dark bg-primary",expand:"lg",children:Object(n.jsxs)(Me.a,{children:[Object(n.jsx)(Qe.LinkContainer,{className:"align-self-start",to:"/",children:Object(n.jsx)(qe.a.Brand,{className:"",children:"Tech House"})}),Object(n.jsx)(qe.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsx)(qe.a.Collapse,{id:"basic-navbar-nav",children:Object(n.jsxs)(Be.a,{className:"ml-auto",children:[Object(n.jsx)(ze.d,{render:function(e){var t=e.history;return Object(n.jsx)(st,{history:t})}}),e?Object(n.jsxs)($e.a,{title:e.name,id:"username",children:[Object(n.jsx)(Qe.LinkContainer,{to:"/profile",children:Object(n.jsx)($e.a.Item,{children:"Profile"})}),Object(n.jsx)($e.a.Item,{onClick:t,children:"Logout"})]}):Object(n.jsx)(Qe.LinkContainer,{to:"/login",children:Object(n.jsxs)(Be.a.Link,{className:"mr-4 mr-sm-0",children:[Object(n.jsx)("i",{className:"fas fa-user"})," Sign In"]})}),e&&e.isAdmin&&Object(n.jsxs)($e.a,{title:"Admin",id:"adminmenu",children:[Object(n.jsx)(Qe.LinkContainer,{to:"/admin/userlist",children:Object(n.jsx)($e.a.Item,{children:"Users"})}),Object(n.jsx)(Qe.LinkContainer,{to:"/admin/productlist",children:Object(n.jsx)($e.a.Item,{children:"Products"})}),Object(n.jsx)(Qe.LinkContainer,{to:"/admin/orderlist",children:Object(n.jsx)($e.a.Item,{children:"Orders"})})]}),Object(n.jsx)(Qe.LinkContainer,{to:"/cart",children:Object(n.jsxs)(Be.a.Link,{className:"mr-2 mr-sm-0",children:[Object(n.jsx)("i",{className:"fas fa-shopping-cart"})," Cart"]})})]})})]})})})},ot=r(126),dt=r(75);var lt=function(){return Object(n.jsx)("footer",{children:Object(n.jsx)(Me.a,{children:Object(n.jsx)(ot.a,{children:Object(n.jsx)(dt.a,{className:"text-center py-3",children:"Copyright \xa9 TechHouse"})})})})},jt=r(135),ut=r(10);function pt(e){for(var t=e.value,r=e.text,a=e.color,c=t,s=[];s.length<5;){var i=c>=1?"fas fa-star":c>=.5?"fas fa-star-half-alt":"far fa-star";c-=1,s.push(i)}return Object(n.jsxs)("div",{className:"rating",children:[s.map((function(e,t){return Object(n.jsx)("span",{children:Object(n.jsx)("i",{style:{color:a},className:e})},t)}))," ",Object(n.jsx)("span",{children:r&&r})]})}pt.defaultProps={color:"#f8e825"};var bt=pt;var ht=function(e){var t=e.product;return Object(n.jsxs)(jt.a,{className:"my-4 rounded",children:[Object(n.jsx)(ut.Link,{to:"/product/".concat(t._id),children:Object(n.jsx)(jt.a.Img,{src:t.image,variant:"top"})}),Object(n.jsxs)(jt.a.Body,{children:[Object(n.jsx)(ut.Link,{to:"/product/".concat(t._id),children:Object(n.jsx)(jt.a.Title,{as:"div",children:Object(n.jsx)("strong",{children:t.name})})}),Object(n.jsx)(jt.a.Text,{as:"div",children:Object(n.jsx)(bt,{value:t.rating,text:"".concat(t.numReviews," reviews")})}),Object(n.jsxs)(jt.a.Text,{as:"h3",children:["$",t.price]})]})]})},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var r=Object(Ye.a)(Ve.a.mark((function r(n){var a,c;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:u}),r.next=4,He.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:a=r.sent,c=a.data,n({type:b,payload:c}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),n({type:h,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},xt=function(e){return function(){var t=Object(Ye.a)(Ve.a.mark((function t(r,n){var a,c,s;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:f}),a=n().userLogin.userInfo?n().userLogin.userInfo._id:null,t.next=5,He.a.get("/api/products/".concat(e,"/").concat(a),{user:a});case 5:c=t.sent,s=c.data,r({type:g,payload:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r({type:v,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}()},mt=function(e){return function(){var t=Object(Ye.a)(Ve.a.mark((function t(r,n){var a,c,s,i;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:L}),a=n().userLogin.userInfo.token,c={headers:{"Content-type":"Application/json",authorization:"Bearer ".concat(a)}},t.next=6,He.a.post("/api/products/admin/",e,c);case 6:s=t.sent,i=s.data,r({type:_,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:k,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},ft=function(e,t){return function(){var r=Object(Ye.a)(Ve.a.mark((function r(n,a){var c,s,i,o;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:w}),c=a().userLogin.userInfo.token,s={headers:{"Content-type":"Application/json",authorization:"Bearer ".concat(c)}},r.next=6,He.a.put("/api/products/admin/".concat(e),t,s);case 6:i=r.sent,o=i.data,n({type:T,payload:o}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:A,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()},gt=r(134),vt=function(e){var t=e.variant,r=e.children;return Object(n.jsx)(gt.a,{variant:t,children:r})};vt.defaultProps={variant:"info"};var yt=vt,Et=r(127),It=function(e){var t=e.width,r=e.height;return Object(n.jsx)(Et.a,{animation:"border",role:"status",style:{width:t||"100px",height:r||"100px",margin:"auto",display:"block"},children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})},St=r(136),Ct=function(e){var t=e.pages,r=e.page,a=e.isAdmin,c=void 0!==a&&a,s=e.keyword,i=void 0===s?"":s;return c?t>1&&Object(n.jsx)(St.a,{children:Object(G.a)(Array(t).keys()).map((function(e){return Object(n.jsx)(Qe.LinkContainer,{to:"/admin/productlist/".concat(e+1),children:Object(n.jsx)(St.a.Item,{active:e+1===r,children:e+1})},e+1)}))}):t>1&&Object(n.jsx)(St.a,{children:Object(G.a)(Array(t).keys()).map((function(e){return Object(n.jsx)(Qe.LinkContainer,{to:i?"/search/".concat(i,"/page/").concat(e+1):"/page/".concat(e+1),children:Object(n.jsx)(St.a.Item,{active:e+1===r,children:e+1})},e+1)}))})},Lt=r(132),Rt=r(128),_t=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.topProductList})),r=t.topProducts,c=t.error,s=t.loading;return Object(a.useEffect)((function(){r||s||e(function(){var e=Object(Ye.a)(Ve.a.mark((function e(t){var r,n;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:O}),e.next=4,He.a.get("/api/products/top");case 4:r=e.sent,n=r.data,t({type:x,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:m,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e,r,s]),r?s?Object(n.jsx)(It,{}):c?Object(n.jsx)(yt,{variant:"danger",children:c}):Object(n.jsx)(Lt.a,{pause:"hover",className:"bg-dark",children:r.map((function(e){return Object(n.jsxs)(Lt.a.Item,{children:[Object(n.jsx)(ut.Link,{to:"product/".concat(e._id),children:Object(n.jsx)(Rt.a,{src:e.image,alt:e.name,fluid:!0})}),Object(n.jsx)(Lt.a.Caption,{className:"carousel-caption",children:Object(n.jsxs)("h2",{children:[e.name," ",e.price]})})]},e._id)}))}):Object(n.jsx)(n.Fragment,{})};var kt=function(e){var t=e.match,r=Object(i.b)(),c=t.params.keyword,s=t.params.pageNumber||1;Object(a.useEffect)((function(){r(Ot(c,s))}),[r,c,s]);var o=Object(i.c)((function(e){return e.productList})),d=o.loading,l=o.error,j=o.products,u=o.page,p=o.pages;return Object(n.jsxs)(n.Fragment,{children:[!c&&Object(n.jsx)(_t,{}),Object(n.jsx)("h1",{children:"Latest Products"}),d||l||j.length||!c?d?Object(n.jsx)(It,{}):l?Object(n.jsx)(yt,{variant:"danger",children:l}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ot.a,{children:j.map((function(e){return Object(n.jsx)(dt.a,{sm:12,md:6,lg:4,xl:3,children:Object(n.jsx)(ht,{product:e})},e._id)}))}),Object(n.jsx)(Ct,{pages:p,page:u,keyword:c||""})]}):Object(n.jsx)("h6",{children:"No results found."})]})},wt=function(e){var t=e.children;return Object(n.jsx)(Me.a,{children:Object(n.jsx)(ot.a,{className:"justify-content-md-center",children:Object(n.jsx)(dt.a,{xs:12,md:6,children:t})})})},Pt=function(e){var t=e.step1,r=e.step2,a=e.step3,c=e.step4;return Object(n.jsxs)(Be.a,{className:"justify-content-center mb-4",children:[Object(n.jsx)(Be.a.Item,{children:t?Object(n.jsx)(Qe.LinkContainer,{to:{pathname:"/login",state:{referrer:"shipping",step:!0}},children:Object(n.jsx)(Be.a.Link,{children:"Sign In"})}):Object(n.jsx)(Be.a.Link,{disabled:!0,children:" Sign In"})}),Object(n.jsx)(Be.a.Item,{children:r?Object(n.jsx)(Qe.LinkContainer,{to:"/shipping",children:Object(n.jsx)(Be.a.Link,{children:"Shipping"})}):Object(n.jsx)(Be.a.Link,{disabled:!0,children:" Shipping"})}),Object(n.jsx)(Be.a.Item,{children:a?Object(n.jsx)(Qe.LinkContainer,{to:"/payment",children:Object(n.jsx)(Be.a.Link,{children:"Payment"})}):Object(n.jsx)(Be.a.Link,{disabled:!0,children:" Payment"})}),Object(n.jsx)(Be.a.Item,{children:c?Object(n.jsx)(Qe.LinkContainer,{to:"/order",children:Object(n.jsx)(Be.a.Link,{children:"Place Order"})}):Object(n.jsx)(Be.a.Link,{disabled:!0,children:" Place Order"})})]})},Tt=function(e){var t=e.history,r=e.location,c=Object(a.useState)(""),s=Object(nt.a)(c,2),o=s[0],d=s[1],l=Object(a.useState)(""),j=Object(nt.a)(l,2),u=j[0],p=j[1],b=Object(i.b)(),h=Object(i.c)((function(e){return e.userLogin})),O=h.loading,x=h.error,m=h.userInfo,f=r.state?r.state.referrer:"/",g=r.state?r.state.step:null;Object(a.useEffect)((function(){return m&&t.push(f),function(){b({type:X})}}),[t,m,f,b]);var v=function(e){e.preventDefault(),b(function(e,t){return function(){var r=Object(Ye.a)(Ve.a.mark((function r(n){var a,c,s;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:Q}),a={headers:{"Content-Type":"application/json"}},r.next=5,He.a.post("/api/users/login",{email:e,password:t},a);case 5:c=r.sent,s=c.data,n({type:J,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:V,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(o,u))};return Object(n.jsxs)(wt,{children:[g&&"shipping"===f&&Object(n.jsx)(Pt,{step1:!0}),Object(n.jsx)("h1",{children:"Sign In"}),x&&Object(n.jsx)(yt,{variant:"danger",children:x}),O?Object(n.jsx)(It,{}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(at.a,{onSubmit:v,children:[Object(n.jsxs)(at.a.Group,{controlId:"email",children:[Object(n.jsx)(at.a.Label,{children:"Email Address"}),Object(n.jsx)(at.a.Control,{type:"email",placeholder:"Enter Email",value:o,onChange:function(e){d(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"password",children:[Object(n.jsx)(at.a.Label,{children:"Password"}),Object(n.jsx)(at.a.Control,{type:"password",placeholder:"Enter Password",value:u,onChange:function(e){p(e.target.value)}})]}),Object(n.jsx)(ct.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(n.jsx)(ot.a,{className:"py-3",children:Object(n.jsxs)(dt.a,{children:["New Customer?"," ",Object(n.jsx)(ut.Link,{to:f?{pathname:"/register",state:{referrer:f}}:"/register",children:"Register"})]})})]})]})},At=function(e){var t=e.history,r=e.location,c=Object(a.useState)(""),s=Object(nt.a)(c,2),o=s[0],d=s[1],l=Object(a.useState)(""),j=Object(nt.a)(l,2),u=j[0],p=j[1],b=Object(a.useState)(""),h=Object(nt.a)(b,2),O=h[0],x=h[1],m=Object(a.useState)(""),f=Object(nt.a)(m,2),g=f[0],v=f[1],y=Object(a.useState)(null),E=Object(nt.a)(y,2),I=E[0],S=E[1],C=Object(i.b)(),L=Object(i.c)((function(e){return e.userLogin})).userInfo,R=Object(i.c)((function(e){return e.userRegister})),_=R.error,k=R.loading,w=r.state?r.state.referrer:"/";Object(a.useEffect)((function(){return L&&t.push(w),function(){C(Ke())}}),[t,L,w,C]);var P=function(e){e.preventDefault(),O===g?C(function(e,t,r){return function(){var n=Object(Ye.a)(Ve.a.mark((function n(a){var c,s,i;return Ve.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:Y}),c={headers:{"Content-Type":"application/json"}},n.next=5,He.a.post("/api/users",{name:e,email:t,password:r},c);case 5:s=n.sent,i=s.data,a({type:W,payload:i}),a({type:J,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),a({type:H,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(o,u,O)):(C(Ke()),S("Passwords do not match"))};return Object(n.jsxs)(wt,{children:[Object(n.jsx)("h1",{children:"Sign up"}),_&&Object(n.jsx)(yt,{variant:"danger",children:_}),I&&Object(n.jsx)(yt,{variant:"danger",children:I}),k?Object(n.jsx)(It,{}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(at.a,{onSubmit:P,children:[Object(n.jsxs)(at.a.Group,{controlId:"name",children:[Object(n.jsx)(at.a.Label,{children:"Username"}),Object(n.jsx)(at.a.Control,{type:"text",placeholder:"Enter Username",value:o,onChange:function(e){d(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"email",children:[Object(n.jsx)(at.a.Label,{children:"Email Address"}),Object(n.jsx)(at.a.Control,{type:"email",placeholder:"Enter Email",value:u,onChange:function(e){p(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"password",children:[Object(n.jsx)(at.a.Label,{children:"Password"}),Object(n.jsx)(at.a.Control,{type:"password",placeholder:"Enter Password",value:O,onChange:function(e){x(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"confirm-password",children:[Object(n.jsx)(at.a.Label,{children:"Confirm Password"}),Object(n.jsx)(at.a.Control,{type:"password",placeholder:"Confirm Password",value:g,onChange:function(e){v(e.target.value)}})]}),Object(n.jsx)(ct.a,{type:"submit",variant:"primary",children:"Register"})]}),Object(n.jsx)(ot.a,{className:"py-3",children:Object(n.jsxs)(dt.a,{children:["Have an Account?"," ",Object(n.jsx)(ut.Link,{to:w?"/login?redirect=".concat(w):"/login",children:"Login"})]})})]})]})},Dt=r(129),Ut=r(137),Nt=function(e){var t=e.history,r=Object(a.useState)(""),c=Object(nt.a)(r,2),s=c[0],o=c[1],d=Object(a.useState)(""),l=Object(nt.a)(d,2),j=l[0],u=l[1],p=Object(a.useState)(""),b=Object(nt.a)(p,2),h=b[0],O=b[1],x=Object(a.useState)(""),m=Object(nt.a)(x,2),f=m[0],g=m[1],v=Object(a.useState)(""),y=Object(nt.a)(v,2),E=y[0],I=y[1],S=Object(a.useState)(null),C=Object(nt.a)(S,2),L=C[0],R=C[1],_=Object(a.useState)(null),k=Object(nt.a)(_,2),w=k[0],P=k[1],T=Object(i.b)(),A=Object(i.c)((function(e){return e.userDetails})),D=A.error,U=A.loading,N=A.userInfo;A.updated&&!D&&(L||R("Profile updated"));var F=Object(i.c)((function(e){return e.userLogin.userInfo}));Object(a.useEffect)((function(){return F||P({pathname:"/login",state:{referrer:"/profile"}}),function(){T(Ze()),T(et()),T({type:ce})}}),[T,t,F]),Object(a.useEffect)((function(){N?(o(N.name),u(N.email)):T(function(){var e=Object(Ye.a)(Ve.a.mark((function e(t,r){var n,a,c,s;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:ee}),e.prev=1,n=r().userLogin.userInfo,a={headers:{"Content-type":"application/json",authorization:"Bearer ".concat(n.token)}},e.next=6,He.a.get("/api/users/profile",a);case 6:c=e.sent,s=c.data,t({type:te,payload:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:ae,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,r){return e.apply(this,arguments)}}())}),[T,t,N,F]);var G=function(e){if(e.preventDefault(),h.length&&f.length)if(h===f){var t={name:s,email:j,password:h};E.length&&(L&&R(null),t.newPassword=E),T(function(e){return function(){var t=Object(Ye.a)(Ve.a.mark((function t(r,n){var a,c,s,i;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:ee}),t.prev=1,a=n().userLogin.userInfo.token,c={headers:{"Content-type":"application/json",authorization:"Bearer ".concat(a)}},t.next=6,He.a.put("/api/users/profile",e,c);case 6:s=t.sent,i=s.data,r({type:re,payload:i}),r({type:J,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),r({type:oe,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()}(t)),I(""),O(""),g("")}else R("Current passwords do not match");else R("Please enter and confirm your current password")};return w?Object(n.jsx)(ze.c,{to:w}):Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsx)("h2",{children:"User Profile"}),Object(n.jsxs)(ot.a,{children:[Object(n.jsxs)(dt.a,{md:3,style:{marginBottom:30},children:[D&&Object(n.jsx)(yt,{variant:"danger",children:D}),L&&Object(n.jsx)(yt,{variant:D?"danger":"success",children:L}),U?Object(n.jsx)(It,{}):Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(at.a,{onSubmit:G,children:[Object(n.jsxs)(at.a.Group,{controlId:"name",children:[Object(n.jsx)(at.a.Label,{children:"Username"}),Object(n.jsx)(at.a.Control,{type:"text",placeholder:"Enter Username",value:s,onChange:function(e){o(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"email",children:[Object(n.jsx)(at.a.Label,{children:"Email Address"}),Object(n.jsx)(at.a.Control,{type:"email",placeholder:"Enter Email",value:j,onChange:function(e){u(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"new-password",children:[Object(n.jsx)(at.a.Label,{children:"New Password"}),Object(n.jsx)(at.a.Control,{type:"password",placeholder:"Enter New Password",value:E,onChange:function(e){I(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"password",children:[Object(n.jsx)(at.a.Label,{children:"Current Password"}),Object(n.jsx)(at.a.Control,{type:"password",placeholder:"Enter Current Password",value:h,onChange:function(e){O(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"confirm-password",children:[Object(n.jsx)(at.a.Label,{children:"Confirm Current Password"}),Object(n.jsx)(at.a.Control,{type:"password",placeholder:"Confirm Current Password",value:f,onChange:function(e){g(e.target.value)}})]}),Object(n.jsx)(ct.a,{type:"submit",variant:"primary",children:"Update"})]})})]}),Object(n.jsx)(dt.a,{md:9,children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h6",{children:"My Orders"}),Object(n.jsx)(Ut.a,{children:function(){if(N&&N.orders.length)return Object(n.jsxs)(Dt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"ID"}),Object(n.jsx)("th",{children:"DATE"}),Object(n.jsx)("th",{children:"TOTAL"}),Object(n.jsx)("th",{children:"PAID"}),Object(n.jsx)("th",{children:"DELIVERED"}),Object(n.jsx)("th",{})]})}),Object(n.jsx)("tbody",{children:N.orders.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e._id}),Object(n.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(n.jsx)("td",{children:e.totalPrice}),Object(n.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(n.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(n.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(n.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(n.jsx)("td",{children:Object(n.jsx)(Qe.LinkContainer,{to:"/order/".concat(e._id),children:Object(n.jsx)(ct.a,{variant:"light",className:"btn-sm",children:"Details"})})})]},e._id)}))})]})}()})]})})]})]})},Ft=function(e,t){return function(){var r=Object(Ye.a)(Ve.a.mark((function r(n,a){var c,s;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,He.a.get("/api/products/".concat(e,"/null"));case 2:c=r.sent,s=c.data,n({type:q,payload:{product:e,name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},Gt=function(e){var t=e.history,r=Object(a.useState)(""),c=Object(nt.a)(r,2),s=c[0],o=c[1],d=Object(a.useState)(""),l=Object(nt.a)(d,2),j=l[0],u=l[1],p=Object(a.useState)(""),b=Object(nt.a)(p,2),h=b[0],O=b[1],x=Object(a.useState)(""),m=Object(nt.a)(x,2),f=m[0],g=m[1],v=Object(i.b)(),y=Object(i.c)((function(e){return e.cart.shippingAddress}));Object(a.useEffect)((function(){y&&(o(y.address),u(y.city),O(y.postalCode),g(y.country))}),[y]);return Object(n.jsxs)(wt,{children:[Object(n.jsx)(Pt,{step1:!0,step2:!0}),Object(n.jsx)("h1",{children:"Shipping"}),Object(n.jsxs)(at.a,{onSubmit:function(e){e.preventDefault(),v(function(e,t,r,n){return function(a){var c={address:e,city:t,postalCode:r,country:n};a({type:B,payload:c}),localStorage.setItem("shippingAddress",JSON.stringify(c))}}(s,j,h,f)),t.push("/payment")},children:[Object(n.jsxs)(at.a.Group,{controlId:"address",children:[Object(n.jsx)(at.a.Label,{children:"Address:"}),Object(n.jsx)(at.a.Control,{type:"text",placeholder:"Enter Address",value:s,required:!0,onChange:function(e){o(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"city",children:[Object(n.jsx)(at.a.Label,{children:"City:"}),Object(n.jsx)(at.a.Control,{type:"text",placeholder:"Enter City",value:j,required:!0,onChange:function(e){u(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"postal-code",children:[Object(n.jsx)(at.a.Label,{children:"Postal Code:"}),Object(n.jsx)(at.a.Control,{type:"text",placeholder:"Enter Postal Code",value:h,required:!0,onChange:function(e){O(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"country",children:[Object(n.jsx)(at.a.Label,{children:"country:"}),Object(n.jsx)(at.a.Control,{type:"text",placeholder:"Enter Country",value:f,required:!0,onChange:function(e){g(e.target.value)}})]}),Object(n.jsx)(ct.a,{type:"submit",variant:"primary",children:"Continue"})]})]})};var qt=function(e){var t=e.history,r=e.match,c=r.params.id,s=Object(a.useState)(1),o=Object(nt.a)(s,2),d=o[0],l=o[1],j=Object(a.useState)(0),u=Object(nt.a)(j,2),p=u[0],b=u[1],h=Object(a.useState)(""),O=Object(nt.a)(h,2),x=O[0],m=O[1],f=Object(i.b)(),g=Object(i.c)((function(e){return e.userLogin.userInfo})),v=Object(i.c)((function(e){return e.productDetails.product})),y=Object(i.c)((function(e){return e.createReview})),E=y.success,I=y.error;Object(a.useEffect)((function(){E&&(m(""),b(0),f({type:U})),f(xt(c))}),[f,c,E]);var S=function(e){var t,n;e.preventDefault(),f((t=r.params.id,n={rating:p,comment:x},function(){var e=Object(Ye.a)(Ve.a.mark((function e(r,a){var c,s;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:D}),c=a().userLogin.userInfo.token,s={headers:{"Content-type":"Application/json",authorization:"Bearer ".concat(c)}},e.next=6,He.a.post("/api/products/".concat(t,"/reviews"),n,s);case 6:r({type:N}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r({type:F,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()))},C=function(){if(!!_.reviews.find((function(e){return e.user===g._id})))return Object(n.jsx)("p",{children:"You have already reviewed this product."});var e=v.userHasPurchased,t=v.userHasReceived;return e&&!t||e&&!t?Object(n.jsx)(yt,{variant:"success",children:"You may post a review once you have received this product."}):e||t?e&&t?Object(n.jsxs)(at.a,{onSubmit:S,children:[Object(n.jsxs)(at.a.Group,{controlId:"rating",children:[Object(n.jsx)(at.a.Label,{children:"Rating"}),Object(n.jsxs)(at.a.Control,{as:"select",value:p,onChange:function(e){return b(e.target.value)},required:!0,children:[Object(n.jsx)("option",{value:"",children:"Select ..."}),Object(n.jsx)("option",{value:"1",children:"1 - Poor"}),Object(n.jsx)("option",{value:"2",children:"2 - Fair"}),Object(n.jsx)("option",{value:"3",children:"3 - Good"}),Object(n.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(n.jsx)("option",{value:"5",children:"5 - Excelent"})]})]}),Object(n.jsxs)(at.a.Group,{controlId:"comment",children:[Object(n.jsx)(at.a.Label,{children:"Comment"}),Object(n.jsx)(at.a.Control,{required:!0,as:"textarea",row:"3",value:x,onChange:function(e){return m(e.target.value)}})]}),Object(n.jsx)(ct.a,{type:"submit",variant:"primary",children:"Submit"})]}):void 0:Object(n.jsx)("p",{children:"Purchase the product and post a review!"})},L=function(){t.push("/cart/".concat(c,"?qty=").concat(d))},R=Object(i.c)((function(e){return e.productDetails})),_=R.product,k=R.error;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ut.Link,{className:"btn btn-light my-3",to:"/",children:"Go Back"}),k?Object(n.jsx)(yt,{variant:"danger",children:k}):_?Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{lg:6,children:Object(n.jsx)(Rt.a,{src:_.image,alt:_.name,fluid:!0})}),Object(n.jsx)(dt.a,{lg:3,children:Object(n.jsxs)(Ut.a,{variant:"flush",children:[Object(n.jsx)(Ut.a.Item,{children:Object(n.jsx)("h3",{children:_.name})}),Object(n.jsx)(Ut.a.Item,{children:Object(n.jsx)(bt,{value:_.rating,text:"".concat(_.numReviews," reviews")})}),Object(n.jsxs)(Ut.a.Item,{children:["Description: ",_.description]})]})}),Object(n.jsx)(dt.a,{lg:3,children:Object(n.jsx)(jt.a,{children:Object(n.jsxs)(Ut.a,{variant:"flush",children:[Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{children:"Price:"}),Object(n.jsx)(dt.a,{children:Object(n.jsxs)("strong",{children:["$",_.price]})})]})}),Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{children:"Status:"}),Object(n.jsx)(dt.a,{children:_.countInStock>0?"In Stock":"Out Of Stock"})]})}),_.countInStock>0&&Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{children:"Qty"}),Object(n.jsx)(dt.a,{children:Object(n.jsx)(at.a.Control,{as:"select",value:d,onChange:function(e){l(e.target.value)},children:Object(G.a)(Array(_.countInStock).keys()).map((function(e){return Object(n.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(n.jsx)(Ut.a.Item,{children:Object(n.jsx)(ct.a,{className:"btn-block",type:"button",disabled:_.countInStock<=0,onClick:L,children:"Add To Cart"})})]})})})]}):void 0,_&&Object(n.jsx)(ot.a,{className:"my-3",children:Object(n.jsxs)(dt.a,{md:6,children:[Object(n.jsx)("h2",{children:"Reviews"}),!_.reviews.length&&Object(n.jsx)(yt,{children:"This product has not been reviewed yet"}),Object(n.jsxs)(Ut.a,{variant:"flush",children:[_.reviews.map((function(e){return Object(n.jsxs)(Ut.a.Item,{children:[Object(n.jsx)("strong",{children:e.name}),Object(n.jsx)(bt,{value:e.rating}),Object(n.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(n.jsx)("p",{children:e.comment})]},e._id)})),Object(n.jsxs)(Ut.a.Item,{children:[I&&Object(n.jsx)(yt,{variant:"danger",children:I}),g?C():Object(n.jsxs)("p",{children:[Object(n.jsx)(ut.Link,{to:"/login?redirect=product/".concat(c),children:"Sign in"})," ","to write a review"]})]})]})]})})]})},Mt=function(e){var t=e.history,r=Object(a.useState)("PayPal"),c=Object(nt.a)(r,2),s=c[0],o=c[1],d=Object(i.b)();Object(i.c)((function(e){return e.cart.shippingAddress}))||t.push("/shipping");return Object(n.jsxs)(wt,{children:[Object(n.jsx)(Pt,{step1:!0,step2:!0,step3:!0}),Object(n.jsx)("h1",{children:"Payment Method"}),Object(n.jsxs)(at.a,{onSubmit:function(e){var r;e.preventDefault(),d((r=s,function(e){e({type:$,payload:r}),localStorage.setItem("paymentMethod",JSON.stringify(r))})),t.push("/placeorder")},children:[Object(n.jsxs)(at.a.Group,{className:"mb-4",children:[Object(n.jsx)(at.a.Label,{as:"legend",children:"Select Method"}),Object(n.jsx)(dt.a,{children:Object(n.jsx)(at.a.Check,{type:"radio",label:"Paypal or Credit card",id:"PayPal",name:"paymentMethod",value:"PayPal",checked:!0,onChange:function(e){o(e.target.value)}})})]}),Object(n.jsx)(ct.a,{type:"submit",variant:"primary",children:"Continue"})]})]})},Bt=function(e){var t=e.match,r=e.location,c=(e.history,Object(a.useState)("")),s=Object(nt.a)(c,2),o=s[0],d=s[1],l=t.params.id,j=r.search?Number(r.search.split("=")[1]):1,u=Object(i.b)(),p=Object(i.c)((function(e){return e.cart})).cartItems;Object(a.useEffect)((function(){l&&u(Ft(l,j))}),[u,l,j]);var b=function(e){u(function(e){return function(t,r){t({type:M,payload:e}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems))}}(e))};return o?Object(n.jsx)(ze.c,{to:{pathname:"/login",state:{referrer:"shipping",step:!0}}}):Object(n.jsxs)(ot.a,{children:[Object(n.jsxs)(dt.a,{md:8,children:[Object(n.jsx)("h1",{children:"Shopping Cart"}),p.length?Object(n.jsx)(Ut.a,{variant:"flush",children:p.map((function(e){return Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{md:2,children:Object(n.jsx)(Rt.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(n.jsx)(dt.a,{md:3,children:Object(n.jsx)(ut.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(n.jsxs)(dt.a,{md:2,children:["$",e.price]}),Object(n.jsx)(dt.a,{md:3,children:Object(n.jsx)(at.a.Control,{as:"select",value:e.qty,onChange:function(t){u(Ft(e.product,Number(t.target.value)))},children:Object(G.a)(Array(e.countInStock).keys()).map((function(e){return Object(n.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(n.jsx)(dt.a,{md:2,children:Object(n.jsx)(ct.a,{type:"button",variant:"light",onClick:function(){b(e.product)},children:Object(n.jsx)("i",{className:"fas fa-trash"})})})]})},e.product)}))}):Object(n.jsxs)(yt,{children:["Your cart is empty ",Object(n.jsx)(ut.Link,{to:"/",children:"Go Back"})]})]}),Object(n.jsx)(dt.a,{md:4,children:Object(n.jsx)(jt.a,{children:Object(n.jsxs)(Ut.a,{variant:"flush",children:[Object(n.jsxs)(Ut.a.Item,{children:[Object(n.jsxs)("h2",{children:["Subtotal(",p.reduce((function(e,t){return e+t.qty}),0),") Items"]}),"$",p.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]}),Object(n.jsx)(Ut.a.Item,{children:Object(n.jsx)(ct.a,{type:"button",className:"btn-block",disabled:0===p.length,onClick:function(e){d(!0)},children:"Proceed To Checkout"})})]})})})]})},$t=function(e){return function(){var t=Object(Ye.a)(Ve.a.mark((function t(r,n){var a,c,s,i;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ge}),a=n().userLogin.userInfo.token,c={headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(a)}},t.next=6,He.a.get("/api/orders/order/".concat(e),c);case 6:s=t.sent,i=s.data,r({type:ve,payload:i}),r({type:ie}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:ye,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:"Request failed"});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},zt=function(e){var t=e.history,r=Object(i.c)((function(e){return e.cart})),c=function(e){return(Math.round(100*e)/100).toFixed(2)};r.itemsPrice=c(r.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0)),r.shippingPrice=c(r.itemsPrice>100?0:100),r.taxPrice=c(Number((.15*r.itemsPrice).toFixed(2))),r.totalPrice=(Number(r.itemsPrice)+Number(r.shippingPrice)+Number(r.taxPrice)).toFixed(2);var s=Object(i.b)(),o=r.shippingAddress,d=r.paymentMethod,l=Object(i.c)((function(e){return e.orderCreate}));o?d||t.push("/payment"):t.push("/shipping");var u=l.order,p=l.success,b=l.error;Object(a.useEffect)((function(){p&&t.push("/order/".concat(u._id))}),[t,p,u]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Pt,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{md:8,children:Object(n.jsxs)(Ut.a,{variant:"flush",children:[Object(n.jsxs)(Ut.a.Item,{children:[Object(n.jsx)("h2",{children:"Shipping"}),Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"Address: "}),r.shippingAddress&&r.shippingAddress.address,","," ",r.shippingAddress&&r.shippingAddress.city,",",r.shippingAddress&&r.shippingAddress.postalCode]})]}),Object(n.jsxs)(Ut.a.Item,{children:[Object(n.jsx)("h2",{children:"Payment Method"}),Object(n.jsxs)("strong",{children:["Method: ",d]})]}),Object(n.jsxs)(Ut.a.Item,{children:[Object(n.jsx)("h2",{children:"Order Items:"}),0===r.cartItems.length?Object(n.jsx)(yt,{children:"Your cart is empty"}):Object(n.jsx)(Ut.a,{variant:"flush",children:r.cartItems.map((function(e,t){return Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{md:1,children:Object(n.jsx)(Rt.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(n.jsx)(dt.a,{children:Object(n.jsx)(ut.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(n.jsxs)(dt.a,{md:5,children:[e.qty," x $",e.price," = $",(e.qty*e.price).toFixed(2)]})]})},t)}))})]})]})}),Object(n.jsx)(dt.a,{md:4,children:Object(n.jsx)(jt.a,{children:Object(n.jsxs)(Ut.a,{variant:"flush",children:[Object(n.jsx)(Ut.a.Item,{children:Object(n.jsx)("h2",{children:"Order Summary"})}),Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{children:"Items"}),Object(n.jsxs)(dt.a,{children:["$",r.itemsPrice]})]})}),Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{children:"Shipping"}),Object(n.jsxs)(dt.a,{children:["$",r.shippingPrice]})]})}),Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{children:"Tax"}),Object(n.jsxs)(dt.a,{children:["$",r.taxPrice]})]})}),Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{children:"Total"}),Object(n.jsxs)(dt.a,{children:["$",r.totalPrice]})]})}),b&&Object(n.jsx)(Ut.a.Item,{children:Object(n.jsx)(yt,{variant:"danger",children:b})}),Object(n.jsx)(Ut.a.Item,{children:Object(n.jsx)(ct.a,{type:"button",className:"btn-block",disabled:0===r.cartItems,onClick:function(){var e=Object(j.a)({},r);e.orderItems=r.cartItems,delete e.cartItems,s(function(e){return function(){var t=Object(Ye.a)(Ve.a.mark((function t(r,n){var a,c,s,i;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:xe}),a=n().userLogin.userInfo.token,c={headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(a)}},t.next=6,He.a.post("/api/orders",e,c);case 6:s=t.sent,i=s.data,r({type:me,payload:i}),localStorage.removeItem("cartItems"),r({type:z}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r({type:fe,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))},children:"Place Order"})})]})})})]})]})},Qt=r(81),Jt=function(e){var t=e.history,r=e.match,c=Object(a.useState)(!1),s=Object(nt.a)(c,2),o=s[0],d=s[1],l=function(){var e=Object(Ye.a)(Ve.a.mark((function e(){var t,r,n;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.a.get("/api/config/paypal");case 2:t=e.sent,r=t.data,(n=document.createElement("script")).type="text/javascript",n.src="https://www.paypal.com/sdk/js?client-id=".concat(r),n.async=!0,n.onload=function(){d(!0)},document.body.appendChild(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=Object(i.b)(),u=function(e){return(Math.round(100*e)/100).toFixed(2)},p=Object(i.c)((function(e){return e.getOrder})),b=p.loading,h=p.error,O=p.order,x=Object(i.c)((function(e){return e.getOrder})).loading;O&&(O.itemsPrice=u(O.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0)),O.shippingPrice=u(O.itemsPrice>100?0:100),O.taxPrice=u(Number((.15*O.itemsPrice).toFixed(2)))),Object(a.useEffect)((function(){return function(){j({type:Ee})}}),[j]);var m=Object(i.c)((function(e){return e.userLogin})).userInfo;Object(a.useEffect)((function(){m?!O&&!b&&!h||O&&O._id!==r.params.id?j($t(r.params.id)):O&&!O.isPaid&&(window.paypal?d(!0):l()):t.push("/")}),[h,t,m,b,O,j,r.params.id]);var f=function(e){j(function(e,t){return function(){var r=Object(Ye.a)(Ve.a.mark((function r(n,a){var c,s,i,o;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:Ie}),c=a().userLogin.userInfo.token,s={headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(c)}},r.next=6,He.a.put("/api/orders/order/".concat(e,"/pay"),t,s);case 6:i=r.sent,o=i.data,n({type:Se,payload:o}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:Ce,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:"Request failed"});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(O._id,e)),j({type:Ee}),j($t(r.params.id))};return Object(n.jsx)(n.Fragment,{children:b?Object(n.jsx)(It,{}):h?Object(n.jsx)(yt,{variant:"danger",children:h}):O?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h1",{children:["Order ",O._id]}),Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{md:8,children:Object(n.jsxs)(Ut.a,{variant:"flush",children:[Object(n.jsxs)(Ut.a.Item,{children:[Object(n.jsx)("h2",{children:"Shipping"}),Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"Name:"})," ",O.user.name]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"Email:"})," ",Object(n.jsx)("a",{href:"mailto:".concat(O.user.email),children:O.user.email})]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"Address: "}),O.shippingAddress&&O.shippingAddress.address,","," ",O.shippingAddress&&O.shippingAddress.city,",",O.shippingAddress&&O.shippingAddress.postalCode]}),O.isDelivered?Object(n.jsxs)(yt,{variant:"success",children:["Delivered at ",O.deliveredAt]}):Object(n.jsx)(yt,{variant:"danger",children:"Not Delivered"})]}),Object(n.jsxs)(Ut.a.Item,{children:[Object(n.jsx)("h2",{children:"Payment Method"}),Object(n.jsx)("p",{children:Object(n.jsxs)("strong",{children:["Method: ",O.paymentMethod]})}),O.isPaid?Object(n.jsxs)(yt,{variant:"success",children:["Paid on ",O.paidAt]}):Object(n.jsx)(yt,{variant:"danger",children:"Not Paid"})]}),Object(n.jsxs)(Ut.a.Item,{children:[Object(n.jsx)("h2",{children:"Order Items:"}),0===O.orderItems.length?Object(n.jsx)(yt,{children:"Your order is empty"}):Object(n.jsx)(Ut.a,{variant:"flush",children:O.orderItems.map((function(e,t){return Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{md:1,children:Object(n.jsx)(Rt.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(n.jsx)(dt.a,{children:Object(n.jsx)(ut.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(n.jsxs)(dt.a,{md:5,children:[e.qty," x $",e.price," = $",(e.qty*e.price).toFixed(2)]})]})},t)}))})]})]})}),Object(n.jsx)(dt.a,{md:4,children:Object(n.jsx)(jt.a,{children:Object(n.jsxs)(Ut.a,{variant:"flush",children:[Object(n.jsx)(Ut.a.Item,{children:Object(n.jsx)("h2",{children:"Order Summary"})}),Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{children:"Items"}),Object(n.jsxs)(dt.a,{children:["$",O.itemsPrice]})]})}),Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{children:"Shipping"}),Object(n.jsxs)(dt.a,{children:["$",O.shippingPrice]})]})}),Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{children:"Tax"}),Object(n.jsxs)(dt.a,{children:["$",O.taxPrice]})]})}),Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{children:"Total"}),Object(n.jsxs)(dt.a,{children:["$",O.totalPrice]})]})}),O&&!O.isPaid&&Object(n.jsxs)(Ut.a.Item,{children:[x&&Object(n.jsx)(It,{}),o?Object(n.jsx)(Qt.PayPalButton,{amount:O.totalPrice,onSuccess:f}):Object(n.jsx)(It,{})]})]})})})]})]}):void 0})},Vt=function(e){var t=e.history,r=Object(a.useState)(""),c=Object(nt.a)(r,2),s=c[0],o=c[1],d=Object(a.useState)(null),l=Object(nt.a)(d,2),j=l[0],u=l[1],p=Object(i.b)(),b=Object(i.c)((function(e){return e.userList})),h=b.users,O=b.loading,x=b.error,m=Object(i.c)((function(e){return e.userLogin})),f=Object(i.c)((function(e){return e.deleteUser})).success;Object(a.useEffect)((function(){return function(){p({type:Oe}),p({type:ue})}}),[p]),Object(a.useEffect)((function(){m.userInfo?m.userInfo&&!m.userInfo.isAdmin?u({pathname:"/"}):p(tt()):u({pathname:"/login",state:{referrer:"/admin/userlist"}})}),[p,m,t]),Object(a.useEffect)((function(){f&&(o("User deleted"),p(tt()))}),[p,f]);var g=function(e){window.confirm("Are you sure? This action is  irreversible!")&&p(function(e){return function(){var t=Object(Ye.a)(Ve.a.mark((function t(r,n){var a,c;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:pe}),t.prev=1,a=n().userLogin.userInfo.token,c={headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(a)}},t.next=6,He.a.delete("/api/users/admin/".concat(e),c);case 6:r({type:be}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:he,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return j?Object(n.jsx)(ze.c,{to:j}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"Users"}),s&&Object(n.jsx)(yt,{variant:"success",children:s}),O?Object(n.jsx)(It,{}):x?Object(n.jsx)(yt,{variant:"danger",children:x}):Object(n.jsxs)(Dt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"ID"}),Object(n.jsx)("th",{children:"NAME"}),Object(n.jsx)("th",{children:"EMAIL"}),Object(n.jsx)("th",{children:"ADMIN"}),Object(n.jsx)("th",{})]})}),Object(n.jsx)("tbody",{children:h.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e._id}),Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:Object(n.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(n.jsx)("td",{children:e.isAdmin?Object(n.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(n.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(n.jsxs)("td",{children:[Object(n.jsx)(Qe.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit"),children:Object(n.jsx)(ct.a,{variant:"light",className:"btn-sm",children:Object(n.jsx)("i",{className:"fas fa-edit"})})}),Object(n.jsx)(ct.a,{variant:"danger",className:"btn-sm",onClick:function(){return g(e._id)},children:Object(n.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]})]})},Yt=function(e){var t=e.history,r=e.match.params.pageNumber||1,c=Object(a.useState)(""),s=Object(nt.a)(c,2),o=s[0],d=s[1],l=Object(a.useState)(null),j=Object(nt.a)(l,2),u=j[0],b=j[1],h=Object(i.b)(),O=Object(i.c)((function(e){return e.productList})),x=O.products,m=O.loading,f=O.error,g=O.page,v=O.pages,y=Object(i.c)((function(e){return e.userLogin})),L=Object(i.c)((function(e){return e.deleteProduct})).success,_=Object(i.c)((function(e){return e.createProduct})).success,k=Object(i.c)((function(e){return e.updateProduct})).success;Object(a.useEffect)((function(){return L?(d("Product deleted"),h(Ot("",r))):_?(d("Product created"),h({type:R})):k&&(d("Product updated"),h({type:P})),function(){h({type:I}),h({type:p})}}),[h,L,_,k,r]),Object(a.useEffect)((function(){y.userInfo?y.userInfo&&!y.userInfo.isAdmin?b({pathname:"/"}):h(Ot("",r)):b({pathname:"/login",state:{referrer:"/admin/productlist"}})}),[h,y,t,r]);var w=function(e){h(function(e){return function(){var t=Object(Ye.a)(Ve.a.mark((function t(r,n){var a,c;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:E}),a=n().userLogin.userInfo.token,c={headers:{"Content-type":"Application/json",authorization:"Bearer ".concat(a)}},t.next=6,He.a.delete("/api/products/admin/".concat(e),c);case 6:r({type:S}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:C,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return u?Object(n.jsx)(ze.c,{to:u}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ot.a,{className:"align-items-center",children:Object(n.jsxs)(dt.a,{children:[Object(n.jsx)("h1",{children:"Products"}),Object(n.jsx)(dt.a,{className:"text-right p-0",children:Object(n.jsx)(Qe.LinkContainer,{to:"/admin/createproduct",className:"my-3 justify-content-end",children:Object(n.jsx)(ct.a,{children:"Create Product"})})})]})}),o&&Object(n.jsx)(yt,{variant:"success",children:o}),m?Object(n.jsx)(It,{}):f?Object(n.jsx)(yt,{variant:"danger",children:f}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Dt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"ID"}),Object(n.jsx)("th",{children:"NAME"}),Object(n.jsx)("th",{children:"PRICE"}),Object(n.jsx)("th",{children:"CATEGORY"}),Object(n.jsx)("th",{children:"BRAND"}),Object(n.jsx)("th",{})]})}),Object(n.jsx)("tbody",{children:x.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e._id}),Object(n.jsx)("td",{children:e.name}),Object(n.jsxs)("td",{children:["$",e.price]}),Object(n.jsx)("td",{children:e.category}),Object(n.jsx)("td",{children:e.brand}),Object(n.jsxs)("td",{children:[Object(n.jsx)(Qe.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit"),children:Object(n.jsx)(ct.a,{variant:"light",className:"btn-sm",children:Object(n.jsx)("i",{className:"fas fa-edit"})})}),Object(n.jsx)(ct.a,{variant:"danger",className:"btn-sm",onClick:function(){return w(e._id)},children:Object(n.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]}),Object(n.jsx)(Ct,{pages:v,page:g,isAdmin:!0})]})]})},Wt=function(e){var t=e.history,r=Object(a.useState)(""),c=Object(nt.a)(r,2),s=c[0],o=c[1],d=Object(a.useState)(""),l=Object(nt.a)(d,2),j=l[0],u=l[1],p=Object(a.useState)(""),b=Object(nt.a)(p,2),h=b[0],O=b[1],x=Object(a.useState)(""),m=Object(nt.a)(x,2),f=m[0],g=m[1],v=Object(a.useState)(""),y=Object(nt.a)(v,2),E=y[0],I=y[1],S=Object(a.useState)(""),C=Object(nt.a)(S,2),L=C[0],R=C[1],_=Object(a.useState)(""),k=Object(nt.a)(_,2),w=k[0],P=k[1],T=Object(a.useState)(null),A=Object(nt.a)(T,2),D=A[0],U=A[1],N=Object(a.useState)(!1),F=Object(nt.a)(N,2),G=F[0],q=F[1],M=Object(a.useState)(null),B=Object(nt.a)(M,2),$=B[0],z=B[1],Q=Object(a.useState)(null),J=Object(nt.a)(Q,2),V=J[0],Y=J[1],W=Object(i.b)(),H=Object(i.c)((function(e){return e.userLogin})),K=Object(i.c)((function(e){return e.createProduct})),X=K.error,Z=K.loading,ee=K.success;Object(a.useEffect)((function(){H.userInfo?H.userInfo&&!H.userInfo.isAdmin&&z({pathname:"/"}):z({pathname:"/login",state:{referrer:"/admin/createproduct"}})}),[W,H,t]),Object(a.useEffect)((function(){ee&&t.push("/admin/productlist")}),[ee,t]);var te=function(){var e=Object(Ye.a)(Ve.a.mark((function e(t){var r,n;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.target.files[0],(n=new FormData).append("image",r),U(n),O(r.name);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(Ye.a)(Ve.a.mark((function e(t){var r,n,a;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),V&&Y(null),e.prev=2,r={headers:{"Content-Type":"multipart/form-data"}},q(!0),e.next=7,He.a.post("/api/upload",D,r);case 7:n=e.sent,a=n.data,q(!1),W(mt({name:s,price:j,image:a,brand:f,category:E,description:L,countInStock:w})),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),Y("Please choose an image file"),q(!1);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}();return $?Object(n.jsx)(ze.c,{to:$}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Qe.LinkContainer,{to:"/admin/productlist",children:Object(n.jsx)(ct.a,{type:"submit",variant:"secondary",children:"Back"})}),Object(n.jsxs)(wt,{children:[Object(n.jsx)("h1",{children:"Register Product"}),X&&Object(n.jsx)(yt,{variant:"danger",children:X}),V&&Object(n.jsx)(yt,{variant:"danger",children:V}),Z?Object(n.jsx)(It,{}):Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(at.a,{onSubmit:re,children:[Object(n.jsxs)(at.a.Group,{controlId:"product-name",children:[Object(n.jsx)(at.a.Label,{children:"Product name"}),Object(n.jsx)(at.a.Control,{type:"text",required:!0,placeholder:"Enter Username",value:s,onChange:function(e){o(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"brand",children:[Object(n.jsx)(at.a.Label,{children:"brand"}),Object(n.jsx)(at.a.Control,{type:"text",required:!0,placeholder:"Enter product brand",value:f,onChange:function(e){g(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"category",children:[Object(n.jsx)(at.a.Label,{children:"Category"}),Object(n.jsx)(at.a.Control,{type:"text",required:!0,placeholder:"Enter product category",value:E,onChange:function(e){I(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"image",children:[Object(n.jsx)(at.a.Label,{children:"Image"}),Object(n.jsx)(at.a.Control,{type:"text",required:!0,placeholder:"Enter Image url or upload an image",value:h,onChange:function(e){O(e.target.value)}}),Object(n.jsx)(at.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:te}),G&&Object(n.jsx)(It,{})]}),Object(n.jsxs)(at.a.Group,{controlId:"price",children:[Object(n.jsx)(at.a.Label,{children:"Product price"}),Object(n.jsx)(at.a.Control,{type:"number",required:!0,placeholder:"Enter price",value:j,onChange:function(e){u(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"in-stock",children:[Object(n.jsx)(at.a.Label,{children:"Count in stock"}),Object(n.jsx)(at.a.Control,{type:"number",required:!0,placeholder:"Enter count in stock",value:w,onChange:function(e){P(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"description",children:[Object(n.jsx)(at.a.Label,{children:"Description"}),Object(n.jsx)(at.a.Control,{placeholder:"Enter product description",required:!0,as:"textarea",rows:3,value:L,onChange:function(e){return R(e.target.value)}})]}),Object(n.jsx)(ct.a,{type:"submit",variant:"primary",children:"Create product"})]})})]})]})},Ht=function(e){var t=e.history,r=e.match.params.id,c=Object(a.useState)(null),s=Object(nt.a)(c,2),o=s[0],d=s[1],l=Object(a.useState)(""),j=Object(nt.a)(l,2),u=j[0],p=j[1],b=Object(a.useState)(""),h=Object(nt.a)(b,2),O=h[0],x=h[1],m=Object(a.useState)(""),f=Object(nt.a)(m,2),g=f[0],v=f[1],E=Object(a.useState)(""),I=Object(nt.a)(E,2),S=I[0],C=I[1],L=Object(a.useState)(""),R=Object(nt.a)(L,2),_=R[0],k=R[1],w=Object(a.useState)(""),P=Object(nt.a)(w,2),T=P[0],A=P[1],D=Object(a.useState)(""),U=Object(nt.a)(D,2),N=U[0],F=U[1],G=Object(a.useState)(null),q=Object(nt.a)(G,2),M=q[0],B=q[1],$=Object(a.useState)(!1),z=Object(nt.a)($,2),Q=z[0],J=z[1],V=Object(a.useState)(null),Y=Object(nt.a)(V,2),W=Y[0],H=Y[1],K=Object(i.b)(),X=Object(i.c)((function(e){return e.userLogin})),Z=Object(i.c)((function(e){return e.productDetails})),ee=Z.error,te=Z.loading,re=Z.product,ne=Object(i.c)((function(e){return e.updateProduct})),ae=ne.error,ce=ne.loading,se=ne.success;Object(a.useEffect)((function(){X.userInfo?X.userInfo&&!X.userInfo.isAdmin&&d({pathname:"/"}):d({pathname:"/login",state:{referrer:"/admin/product/".concat(r,"/edit")}})}),[K,X,t,r]),Object(a.useEffect)((function(){!re||re&&re._id!==r?K(xt(r)):(p(re.name),x(re.price),v(re.image),C(re.brand),k(re.category),F(re.countInStock),A(re.description))}),[re,r,t,K]),Object(a.useEffect)((function(){se&&(t.push("/admin/productlist"),K({type:y}))}),[se,t,K]);var ie=function(){var e=Object(Ye.a)(Ve.a.mark((function e(t){var r,n;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.target.files[0],(n=new FormData).append("image",r),B(n),v(r.name);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(Ye.a)(Ve.a.mark((function e(){var t,n,a;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{"Content-Type":"multipart/form-data"}},J(!0),e.next=5,He.a.post("/api/upload",M,t);case 5:n=e.sent,a=n.data,J(!1),K(ft(r,{name:u,price:O,image:a,brand:S,category:_,description:T,countInStock:N})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),H("Please choose an image file"),J(!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(Ye.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),W&&H(null),M?oe():K(ft(r,{name:u,price:O,image:g,brand:S,category:_,description:T,countInStock:N}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o?Object(n.jsx)(ze.c,{to:o}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Qe.LinkContainer,{to:"/admin/productlist",children:Object(n.jsx)(ct.a,{type:"submit",variant:"secondary",children:"Back"})}),Object(n.jsxs)(wt,{children:[Object(n.jsx)("h1",{children:"Update Product"}),ee||ae&&Object(n.jsx)(yt,{variant:"danger",children:ee||ae}),W&&Object(n.jsx)(yt,{variant:"danger",children:W}),te||ce?Object(n.jsx)(It,{}):Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(at.a,{onSubmit:de,children:[Object(n.jsxs)(at.a.Group,{controlId:"product-name",children:[Object(n.jsx)(at.a.Label,{children:"Product name"}),Object(n.jsx)(at.a.Control,{type:"text",required:!0,placeholder:"Enter Username",value:u,onChange:function(e){p(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"brand",children:[Object(n.jsx)(at.a.Label,{children:"brand"}),Object(n.jsx)(at.a.Control,{type:"text",required:!0,placeholder:"Enter product brand",value:S,onChange:function(e){C(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"category",children:[Object(n.jsx)(at.a.Label,{children:"Category"}),Object(n.jsx)(at.a.Control,{type:"text",required:!0,placeholder:"Enter product category",value:_,onChange:function(e){k(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"image",children:[Object(n.jsx)(at.a.Label,{children:"Image"}),Object(n.jsx)(at.a.Control,{type:"text",required:!0,placeholder:"Enter Image url or upload an image",value:g,onChange:function(e){v(e.target.value)}}),Object(n.jsx)(at.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:ie}),Q&&Object(n.jsx)(It,{})]}),Object(n.jsxs)(at.a.Group,{controlId:"price",children:[Object(n.jsx)(at.a.Label,{children:"Product price"}),Object(n.jsx)(at.a.Control,{type:"number",required:!0,placeholder:"Enter price",value:O,onChange:function(e){x(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"in-stock",children:[Object(n.jsx)(at.a.Label,{children:"Count in stock"}),Object(n.jsx)(at.a.Control,{type:"number",required:!0,placeholder:"Enter count in stock",value:N,onChange:function(e){F(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"description",children:[Object(n.jsx)(at.a.Label,{children:"Description"}),Object(n.jsx)(at.a.Control,{placeholder:"Enter product description",required:!0,as:"textarea",rows:3,value:T,onChange:function(e){return A(e.target.value)}})]}),Object(n.jsx)(ct.a,{type:"submit",variant:"primary",children:"Update product"})]})})]})]})},Kt=function(e){var t=e.history,r=e.match.params.id,c=Object(a.useState)(null),s=Object(nt.a)(c,2),o=s[0],d=s[1],l=Object(a.useState)(""),j=Object(nt.a)(l,2),u=j[0],p=j[1],b=Object(a.useState)(""),h=Object(nt.a)(b,2),O=h[0],x=h[1],m=Object(a.useState)(!1),f=Object(nt.a)(m,2),g=f[0],v=f[1],y=Object(a.useState)(""),E=Object(nt.a)(y,2),I=E[0],S=E[1],C=Object(i.b)(),L=Object(i.c)((function(e){return e.userLogin})),R=Object(i.c)((function(e){return e.userDetails})),_=R.error,k=R.loading,w=R.userInfo,P=R.updated;Object(a.useEffect)((function(){return L.userInfo?L.userInfo&&!L.userInfo.isAdmin?d({pathname:"/"}):C(Xe(r)):d({pathname:"/login",state:{referrer:"/admin/user/".concat(r,"/edit")}}),P&&S("User updated"),function(){C({type:ie}),C(et()),C(Ze())}}),[L,t,C,P,r]),Object(a.useEffect)((function(){w&&w._id===r?(p(w.name),x(w.email),v(w.isAdmin)):w&&w._id!==r&&C(Xe(r))}),[w,r,C]);var T=function(e){var t,n;e.preventDefault(),C((t=r,n={name:u,email:O,isAdmin:g},function(){var e=Object(Ye.a)(Ve.a.mark((function e(r,a){var c,s,i,o;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:ee}),e.prev=1,c=a().userLogin.userInfo.token,s={headers:{"Content-type":"application/json",authorization:"Bearer ".concat(c)}},e.next=6,He.a.put("/api/users/admin/".concat(t),n,s);case 6:i=e.sent,o=i.data,r({type:re,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r({type:oe,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,r){return e.apply(this,arguments)}}()))};return o?Object(n.jsx)(ze.c,{to:o}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ut.Link,{to:"/admin/userList",className:"btn btn-light my-3",children:"go back"}),Object(n.jsxs)(wt,{children:[I&&Object(n.jsx)(yt,{variant:"success",children:I}),Object(n.jsx)("h1",{children:"Edit User"}),k?Object(n.jsx)(It,{}):_?Object(n.jsx)(yt,{variant:"danger",children:_}):k?Object(n.jsx)(It,{}):Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(at.a,{onSubmit:T,children:[Object(n.jsxs)(at.a.Group,{controlId:"name",children:[Object(n.jsx)(at.a.Label,{children:"Username"}),Object(n.jsx)(at.a.Control,{type:"text",placeholder:"Enter Username",value:u,onChange:function(e){p(e.target.value)}})]}),Object(n.jsxs)(at.a.Group,{controlId:"email",children:[Object(n.jsx)(at.a.Label,{children:"Email Address"}),Object(n.jsx)(at.a.Control,{type:"email",placeholder:"Enter Email",value:O,onChange:function(e){x(e.target.value)}})]}),Object(n.jsx)(at.a.Group,{controlId:"isadmin",children:Object(n.jsx)(at.a.Check,{type:"checkbox",label:"Is Admin",checked:g,onChange:function(e){v(e.target.checked)}})}),Object(n.jsx)(ct.a,{type:"submit",variant:"primary",children:"Update"})]})})]})]})},Xt=function(e){var t=e.history,r=Object(a.useState)(null),c=Object(nt.a)(r,2),s=c[0],o=c[1],d=Object(i.b)(),l=Object(i.c)((function(e){return e.orderList})),j=l.orders,u=l.loading,p=l.error,b=Object(i.c)((function(e){return e.userLogin}));return Object(a.useEffect)((function(){return function(){d({type:we})}}),[d]),Object(a.useEffect)((function(){b.userInfo?b.userInfo&&!b.userInfo.isAdmin?o({pathname:"/"}):d(function(){var e=Object(Ye.a)(Ve.a.mark((function e(t,r){var n,a,c,s;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Re}),n=r().userLogin.userInfo.token,a={headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(n)}},e.next=6,He.a.get("/api/orders/admin",a);case 6:c=e.sent,s=c.data,t({type:_e,payload:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:ke,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:"Request failed"});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):o({pathname:"/login",state:{referrer:"/admin/orderlist"}})}),[d,b,t]),s?Object(n.jsx)(ze.c,{to:s}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"Orders"}),u?Object(n.jsx)(It,{}):p?Object(n.jsx)(yt,{variant:"danger",children:p}):Object(n.jsxs)(Dt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"ID"}),Object(n.jsx)("th",{children:"CUSTOMER"}),Object(n.jsx)("th",{children:"CUSTOMER EMAIL"}),Object(n.jsx)("th",{children:"paid"}),Object(n.jsx)("th",{children:"delivered"}),Object(n.jsx)("th",{})]})}),Object(n.jsx)("tbody",{children:j.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e._id}),Object(n.jsx)("td",{children:e.user.name}),Object(n.jsx)("td",{children:Object(n.jsx)("a",{href:"mailto:".concat(e.user.email),children:e.user.email})}),Object(n.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(n.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(n.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(n.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(n.jsx)("td",{children:Object(n.jsx)(Qe.LinkContainer,{to:"/admin/order/".concat(e._id,"/edit"),children:Object(n.jsx)(ct.a,{variant:"light",className:"btn-sm",children:"Details"})})})]},e._id)}))})]})]})},Zt=function(e){var t=e.history,r=e.match.params.id,c=Object(a.useState)(!1),s=Object(nt.a)(c,2),o=s[0],d=s[1],l=Object(a.useState)(null),j=Object(nt.a)(l,2),u=j[0],p=j[1],b=Object(a.useState)(null),h=Object(nt.a)(b,2),O=h[0],x=h[1],m=Object(a.useState)(!0),f=Object(nt.a)(m,2),g=f[0],v=f[1],y=Object(i.b)(),E=function(e){return(Math.round(100*e)/100).toFixed(2)},I=Object(i.c)((function(e){return e.getOrder})),S=Object(i.c)((function(e){return e.orderDelivered})),C=S.success,L=S.error,R=S.loading,_=S.date,k=I.loading,w=I.error,P=I.order,T=P&&P.deliveredAt,A=P&&P.user._id;P&&(P.itemsPrice=E(P.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0)),P.shippingPrice=E(P.itemsPrice>100?0:100),P.taxPrice=E(Number((.15*P.itemsPrice).toFixed(2))));var D=Object(i.c)((function(e){return e.userLogin}));Object(a.useEffect)((function(){D.userInfo?D.userInfo&&!D.userInfo.isAdmin?d({pathname:"/"}):P||k||y($t(r)):d({pathname:"/login",state:{referrer:"/admin/order/".concat(r,"/edit")}}),T&&(x(T),v(!1))}),[D,t,r,y,T,k,P]),Object(a.useEffect)((function(){return function(){y({type:Ee})}}),[y]),Object(a.useEffect)((function(){return C&&(p("Order updated"),x(_.date)),R||C?v(!1):L&&v(!0),function(){y({type:De})}}),[y,C,_,R,L]);var U=function(){y(function(e,t){return function(){var r=Object(Ye.a)(Ve.a.mark((function r(n,a){var c,s,i,o;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:Pe}),c=a().userLogin.userInfo.token,s={headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(c)}},r.next=6,He.a.put("/api/orders/admin/".concat(e,"/delivered"),{userId:t},s);case 6:i=r.sent,o=i.data,n({type:Te,payload:o}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:Ae,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:"Request failed"});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(r,A))};return o?Object(n.jsx)(ze.c,{to:o}):Object(n.jsx)(n.Fragment,{children:k?Object(n.jsx)(It,{}):w?Object(n.jsx)(yt,{variant:"danger",children:w}):L?Object(n.jsx)(yt,{variant:"danger",children:L}):P?Object(n.jsxs)(n.Fragment,{children:[u&&Object(n.jsx)(yt,{variant:"success",children:u}),Object(n.jsxs)("h1",{children:["Order ",P._id]}),Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{md:8,children:Object(n.jsxs)(Ut.a,{variant:"flush",children:[Object(n.jsxs)(Ut.a.Item,{children:[Object(n.jsx)("h2",{children:"Shipping"}),Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"Name:"})," ",P.user.name]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"Email:"})," ",Object(n.jsx)("a",{href:"mailto:".concat(P.user.email),children:P.user.email})]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"Address: "}),P.shippingAddress&&P.shippingAddress.address,","," ",P.shippingAddress&&P.shippingAddress.city,",",P.shippingAddress&&P.shippingAddress.postalCode]}),R?Object(n.jsx)(It,{width:40,height:40}):O?Object(n.jsxs)(yt,{variant:"success",children:["Deilvered at ",O]}):Object(n.jsx)(yt,{variant:"danger",children:"Not Deilvered"}),Object(n.jsx)(ct.a,{onClick:U,disabled:!g,children:"Set as delivered"})]}),Object(n.jsxs)(Ut.a.Item,{children:[Object(n.jsx)("h2",{children:"Payment Method"}),Object(n.jsx)("p",{children:Object(n.jsxs)("strong",{children:["Method: ",P.paymentMethod]})}),P.isPaid?Object(n.jsxs)(yt,{variant:"success",children:["Paid on ",P.paidAt]}):Object(n.jsx)(yt,{variant:"danger",children:"Not Paid"})]}),Object(n.jsxs)(Ut.a.Item,{children:[Object(n.jsx)("h2",{children:"Order Items:"}),0===P.orderItems.length?Object(n.jsx)(yt,{children:"Your order is empty"}):Object(n.jsx)(Ut.a,{variant:"flush",children:P.orderItems.map((function(e,t){return Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{md:1,children:Object(n.jsx)(Rt.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(n.jsx)(dt.a,{children:Object(n.jsx)(ut.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(n.jsxs)(dt.a,{md:5,children:[e.qty," x $",e.price," = $",(e.qty*e.price).toFixed(2)]})]})},t)}))})]})]})}),Object(n.jsx)(dt.a,{md:4,children:Object(n.jsx)(jt.a,{children:Object(n.jsxs)(Ut.a,{variant:"flush",children:[Object(n.jsx)(Ut.a.Item,{children:Object(n.jsx)("h2",{children:"Order Summary"})}),Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{children:"Items"}),Object(n.jsxs)(dt.a,{children:["$",P.itemsPrice]})]})}),Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{children:"Shipping"}),Object(n.jsxs)(dt.a,{children:["$",P.shippingPrice]})]})}),Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{children:"Tax"}),Object(n.jsxs)(dt.a,{children:["$",P.taxPrice]})]})}),Object(n.jsx)(Ut.a.Item,{children:Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{children:"Total"}),Object(n.jsxs)(dt.a,{children:["$",P.totalPrice]})]})}),P&&!P.isPaid&&Object(n.jsx)(Ut.a.Item,{})]})})})]})]}):void 0})};var er=function(){return Object(n.jsxs)(ut.BrowserRouter,{children:[Object(n.jsx)(it,{}),Object(n.jsx)("main",{className:"py-3",children:Object(n.jsxs)(Me.a,{children:[Object(n.jsx)(ze.d,{path:"/page/:pageNumber",component:kt,exact:!0}),Object(n.jsx)(ze.d,{path:"/search/:keyword/page/:pageNumber",component:kt,exact:!0}),Object(n.jsx)(ze.d,{path:"/",component:kt,exact:!0}),Object(n.jsx)(ze.d,{path:"/search/:keyword",component:kt,exact:!0}),Object(n.jsx)(ze.d,{path:"/product/:id",component:qt}),Object(n.jsx)(ze.d,{path:"/cart/:id?",component:Bt}),Object(n.jsx)(ze.d,{path:"/login",component:Tt}),Object(n.jsx)(ze.d,{path:"/register",component:At}),Object(n.jsx)(ze.d,{path:"/profile",component:Nt}),Object(n.jsx)(ze.d,{path:"/shipping",component:Gt}),Object(n.jsx)(ze.d,{path:"/payment",component:Mt}),Object(n.jsx)(ze.d,{path:"/placeorder",component:zt}),Object(n.jsx)(ze.d,{path:"/order/:id",component:Jt}),Object(n.jsx)(ze.d,{path:"/admin/userlist",component:Vt}),Object(n.jsx)(ze.d,{path:"/admin/productlist",component:Yt,exact:!0}),Object(n.jsx)(ze.d,{path:"/admin/productlist/:pageNumber",component:Yt,exact:!0}),Object(n.jsx)(ze.d,{path:"/admin/orderlist",component:Xt}),Object(n.jsx)(ze.d,{path:"/admin/product/:id",component:Ht}),Object(n.jsx)(ze.d,{path:"/admin/createproduct",component:Wt}),Object(n.jsx)(ze.d,{exact:!0,path:"/admin/user/:id/edit",component:Kt}),Object(n.jsx)(ze.d,{exact:!0,path:"/admin/order/:id/edit",component:Zt})]})}),Object(n.jsx)(lt,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(n.jsx)(i.a,{store:Ge,children:Object(n.jsx)(er,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},95:function(e,t,r){},96:function(e,t,r){}},[[119,1,2]]]);
//# sourceMappingURL=main.d92b2eb2.chunk.js.map